# Задание по курсу Go

Banking Service — это RESTful API для управления банковскими операциями, такими как создание счетов, переводы, управление кредитами, аналитика и многое другое.

## Как пользоваться сервисом

### Запуск проекта

1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. Склонируйте репозиторий проекта:
3. Запустите сервис с помощью Docker Compose:
    ```
    docker-compose up -d
    ```
4. Сервис будет доступен по адресу http://localhost:8080.

### Конфигурация

Переменные окружения для настройки сервиса находятся в файле docker-compose.yml. Вы можете изменить их при необходимости:

DB_HOST, DB_PORT, DB_USER, DB_PASSWORD, DB_NAME — настройки базы данных PostgreSQL.
JWT_SECRET — секретный ключ для генерации и проверки JWT-токенов.
Остальные конфиги прописаны в config.go.

### Миграции базы данных
Миграции автоматически применяются при запуске контейнера базы данных. Файл миграций находится в migrations/init.sql.

### Основные эндпоинты
#### Аутентификация
POST /register — регистрация нового пользователя.
POST /login — вход пользователя и получение JWT-токена.
#### Управление счетами
POST /wallet — создание нового счета.
GET /wallet — получение всех счетов пользователя.
#### Переводы
POST /transfer — перевод средств между счетами.
#### Управление кредитами
POST /credit — создание нового кредита.
GET /credit?credit_id={id} — получение графика платежей по кредиту.
#### Аналитика
GET /balance/monthly?year={year}&month={month} — доходы и расходы за указанный месяц.
POST /balance/predict?days={days} — прогноз баланса через указанное количество дней.
#### Управление картами
POST /vcard — создание новой карты.
GET /vcard — получение всех карт пользователя.
#### Доп. фунции
GET /cbr - получению ключевой ставки ЦБ
POST /email - отправка писем

## Структура проекта
- config/ — конфигурация приложения.
- handlers/ — обработчики HTTP-запросов.
- middleware/ — middleware для обработки запросов.
- models/ — модели данных.
- repositories/ — работа с базой данных.
- services/ — бизнес-логика приложения.
- scheduler/ — планировщик задач.
- migrations/ — SQL-скрипты для инициализации базы данных.

Примечания
Для работы с API требуется JWT-токен, который передается в заголовке Authorization в формате Bearer <token>.
Убедитесь, что все переменные окружения настроены корректно перед запуском сервиса.
