# Banking Service

Banking Service — это RESTful API для управления банковскими операциями, такими как создание счетов, переводы, управление кредитами, аналитика и многое другое.

## Как пользоваться сервисом

### Запуск проекта

1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. Склонируйте репозиторий проекта:
   ```bash
   git clone https://github.com/Rio4373/banking-service.git
   cd banking-service
   ```
3. Запустите сервис с помощью Docker Compose:
    ```
    docker-compose up --build
    ```
4. Сервис будет доступен по адресу http://localhost:8080.

### Конфигурация

Переменные окружения для настройки сервиса находятся в файле docker-compose.yml. Вы можете изменить их при необходимости:

DB_HOST, DB_PORT, DB_USER, DB_PASSWORD, DB_NAME — настройки базы данных PostgreSQL.
JWT_SECRET — секретный ключ для генерации и проверки JWT-токенов.

### Миграции базы данных
Миграции автоматически применяются при запуске контейнера базы данных. Файл миграций находится в migrations/init.sql.

### Основные эндпоинты
#### Аутентификация
POST /register — регистрация нового пользователя.
POST /login — вход пользователя и получение JWT-токена.
#### Управление счетами
POST /accounts — создание нового счета.
GET /accounts — получение всех счетов пользователя.
#### Переводы
POST /transfer — перевод средств между счетами.
Управление кредитами
#### POST /credits — создание нового кредита.
GET /credits/schedule?credit_id={id} — получение графика платежей по кредиту.
#### Аналитика
GET /analytics/monthly?year={year}&month={month} — доходы и расходы за указанный месяц.
GET /analytics/predict?days={days} — прогноз баланса через указанное количество дней.
#### Управление картами
POST /cards — создание новой карты.
GET /cards — получение всех карт пользователя.

## Структура проекта
- config/ — конфигурация приложения.
- handlers/ — обработчики HTTP-запросов.
- middleware/ — middleware для обработки запросов.
- models/ — модели данных.
- repositories/ — работа с базой данных.
- services/ — бизнес-логика приложения.
- scheduler/ — планировщик задач.
- migrations/ — SQL-скрипты для инициализации базы данных.

Примечания
Для работы с API требуется JWT-токен, который передается в заголовке Authorization в формате Bearer <token>.
Убедитесь, что все переменные окружения настроены корректно перед запуском сервиса.
